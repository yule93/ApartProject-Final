{"remainingRequest":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\src\\components\\user\\MemberEditPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\src\\components\\user\\MemberEditPage.vue","mtime":1637722997639},{"path":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637110097214},{"path":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1637110097836},{"path":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637110097214},{"path":"C:\\Users\\dbfm0\\Desktop\\민주거\\SSAFY학습\\관통프로젝트6(Vue+SpringMyBatis)\\HappyHouse6\\happyhouse6-Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1637110097966}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOw0KDQpjb25zdCBtZW1iZXJTdG9yZSA9ICJtZW1iZXJTdG9yZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIk1lbWJlckVkaXRQYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjogew0KICAgICAgICB1c2VyaWQ6IG51bGwsDQogICAgICAgIHVzZXJuYW1lOiBudWxsLA0KICAgICAgICB1c2VycHdkOiBudWxsLA0KICAgICAgICBlbWFpbDogbnVsbCwNCiAgICAgIH0sDQogICAgICBlbWFpbEluZm86IHsNCiAgICAgICAgZW1haWxJZDogbnVsbCwNCiAgICAgICAgZW1haWxEb21haW46IG51bGwsDQogICAgICB9LA0KICAgICAgZW1haWxEb21haW5zOiBbDQogICAgICAgIHsgdmFsdWU6IG51bGwsIHRleHQ6ICLshKDtg53tlZjshLjsmpQuIiB9LA0KICAgICAgICB7IHZhbHVlOiAic2VsZiIsIHRleHQ6ICLsp4HsoJEg7J6F66Cl7ZWY6riwIiB9LA0KICAgICAgICB7IHZhbHVlOiAic3NhZnkuY29tIiwgdGV4dDogIuyLuO2UvCIgfSwNCiAgICAgICAgeyB2YWx1ZTogIm5hdmVyLmNvbSIsIHRleHQ6ICLrhKTsnbTrsoQiIH0sDQogICAgICAgIHsgdmFsdWU6ICJnb29nbGUuY29tIiwgdGV4dDogIuq1rOq4gCIgfSwNCiAgICAgICAgeyB2YWx1ZTogImtha2FvLmNvbSIsIHRleHQ6ICLsubTsubTsmKQiIH0sDQogICAgICBdLA0KICAgICAgd3JpdGVEb21haW5GbGFnOiBmYWxzZSwNCiAgICAgIHdyaXRlRG9tYWluOiBudWxsLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUobWVtYmVyU3RvcmUsIFsNCiAgICAgICJpc1JlZ2lzdGVyIiwNCiAgICAgICJ1c2VySW5mbyIsDQogICAgICAiaXNSZWdpc3RlckVycm9yIiwNCiAgICAgICJpc01vZGlmaWVkIiwNCiAgICAgICJpc0RlbGV0ZWQiLA0KICAgIF0pLA0KICB9LA0KICB3YXRjaDogew0KICAgICJlbWFpbEluZm8uZW1haWxEb21haW4iOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5lbWFpbEluZm8uZW1haWxEb21haW4gPT0gInNlbGYiKSB7DQogICAgICAgIHRoaXMud3JpdGVEb21haW5GbGFnID0gdHJ1ZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMud3JpdGVEb21haW5GbGFnID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMobWVtYmVyU3RvcmUsIFsiZ2V0VXNlckluZm8iLCAidXNlck1vZGlmeSIsICJ1c2VyRGVsZXRlIl0pLA0KICAgIG1vdmVQYWdlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiSG9tZSIgfSk7DQogICAgfSwNCiAgICBtb3ZlVG9Mb2dpbigpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIlNpZ25JbiIgfSk7DQogICAgfSwNCiAgICBhc3luYyB1cGRhdGUoKSB7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuZW1haWxJbmZvLmVtYWlsSWQgIT0gbnVsbCAmJg0KICAgICAgICB0aGlzLmVtYWlsSW5mby5lbWFpbERvbWFpbiAhPSBudWxsDQogICAgICApIHsNCiAgICAgICAgdGhpcy51c2VyLmVtYWlsID0gIiIuY29uY2F0KA0KICAgICAgICAgIHRoaXMuZW1haWxJbmZvLmVtYWlsSWQsDQogICAgICAgICAgIkAiLA0KICAgICAgICAgIHRoaXMuZW1haWxJbmZvLmVtYWlsRG9tYWluID09ICJzZWxmIg0KICAgICAgICAgICAgPyB0aGlzLndyaXRlRG9tYWluDQogICAgICAgICAgICA6IHRoaXMuZW1haWxJbmZvLmVtYWlsRG9tYWluDQogICAgICAgICk7DQogICAgICB9DQogICAgICB0aGlzLnVzZXIudXNlcmlkID0gdGhpcy51c2VySW5mby51c2VyaWQ7DQogICAgICBhd2FpdCB0aGlzLnVzZXJNb2RpZnkodGhpcy51c2VyKTsNCg0KICAgICAgaWYgKHRoaXMuaXNNb2RpZmllZCkgew0KICAgICAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lICE9IG51bGwpDQogICAgICAgICAgdGhpcy51c2VySW5mby51c2VybmFtZSA9IHRoaXMudXNlci51c2VybmFtZTsNCiAgICAgICAgaWYgKHRoaXMudXNlci5lbWFpbCAhPSBudWxsKSB0aGlzLnVzZXJJbmZvLmVtYWlsID0gdGhpcy51c2VyLmVtYWlsOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJNeVBhZ2UiIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgc2VjZXNzaW9uKCkgew0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy51c2VySW5mby51c2VyaWQpOw0KICAgICAgYXdhaXQgdGhpcy51c2VyRGVsZXRlKHRoaXMudXNlckluZm8udXNlcmlkKTsNCiAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkgew0KICAgICAgICB0aGlzLlNFVF9JU19MT0dJTihmYWxzZSk7DQogICAgICAgIHRoaXMuU0VUX0xPR09VVCh0cnVlKTsNCiAgICAgICAgdGhpcy5TRVRfVVNFUl9JTkZPKG51bGwpOw0KICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJhY2Nlc3MtdG9rZW4iKTsNCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT0gIi8iKSB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJIb21lIiB9KTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["MemberEditPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberEditPage.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n  <b-container class=\"bv-example-row mt-3\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-alert variant=\"secondary\" show><h3>정보 수정</h3></b-alert>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col>\r\n        <img\r\n          src=\"https://source.unsplash.com/900x1600/?nature,water\"\r\n          alt=\"뭐시기\"\r\n          style=\"height: 100%; width: 100%\"\r\n        />\r\n      </b-col>\r\n      <b-col cols=\"8\">\r\n        <b-jumbotron>\r\n          <template #header>My Page</template>\r\n          <template #lead> 내 정보 수정 페이지입니다. </template>\r\n          <hr class=\"my-4\" />\r\n          <b-container class=\"mt-4\">\r\n            <b-row>\r\n              <b-col cols=\"2\" align-self=\"start\" style=\"text-align: left\"\r\n                >아이디: </b-col\r\n              ><b-col\r\n                cols=\"10\"\r\n                align-self=\"start\"\r\n                style=\"text-align: right; margin-bottom: 20px\"\r\n                >{{ userInfo.userid }}</b-col\r\n              >\r\n            </b-row>\r\n            <b-row>\r\n              <b-col>\r\n                <b-form class=\"text-left\">\r\n                  <b-alert show variant=\"danger\" v-if=\"isRegisterError\"\r\n                    >비어 있는 값이 있는지 확인하세요.</b-alert\r\n                  >\r\n                  <b-form-group\r\n                    label=\"이름:\"\r\n                    label-for=\"username\"\r\n                    label-cols=\"4\"\r\n                    label-cols-lg=\"4\"\r\n                    label-size=\"md\"\r\n                    label-align-sm\r\n                  >\r\n                    <b-form-input\r\n                      id=\"username\"\r\n                      v-model=\"user.username\"\r\n                      required\r\n                      placeholder=\"이름 입력....\"\r\n                      description=\"이름을 입력하세요.\"\r\n                      size=\"sm\"\r\n                    ></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group\r\n                    label-cols=\"4\"\r\n                    label-cols-lg=\"4\"\r\n                    label-size=\"md\"\r\n                    label=\"비밀번호:\"\r\n                    label-for=\"userpwd\"\r\n                  >\r\n                    <b-form-input\r\n                      size=\"sm\"\r\n                      type=\"password\"\r\n                      id=\"userpwd\"\r\n                      v-model=\"user.userpwd\"\r\n                      required\r\n                      placeholder=\"비밀번호 입력\"\r\n                    ></b-form-input>\r\n                  </b-form-group>\r\n                  <b-form-group\r\n                    label-cols=\"4\"\r\n                    label-cols-lg=\"4\"\r\n                    label-size=\"md\"\r\n                    label=\"이메일:\"\r\n                    label-for=\"emailid\"\r\n                    label-align-lg=\"left\"\r\n                  >\r\n                    <b-form-input\r\n                      size=\"sm\"\r\n                      v-model=\"emailInfo.emailId\"\r\n                      id=\"emailId\"\r\n                      required\r\n                      placeholder=\"이메일 입력\"\r\n                    ></b-form-input>\r\n                    @\r\n                    <b-form-input\r\n                      v-show=\"writeDomainFlag\"\r\n                      v-model=\"writeDomain\"\r\n                      required\r\n                      size=\"sm\"\r\n                      id=\"directlyDomain\"\r\n                      name=\"directlyDomain\"\r\n                    ></b-form-input>\r\n                    <b-form-select\r\n                      size=\"sm\"\r\n                      class=\"form-control\"\r\n                      id=\"emaildomain\"\r\n                      name=\"emaildomain\"\r\n                      v-model=\"emailInfo.emailDomain\"\r\n                      :options=\"emailDomains\"\r\n                    >\r\n                    </b-form-select>\r\n                    <input type=\"hidden\" v-model=\"user.email\" />\r\n                  </b-form-group>\r\n                  <b-form-group> </b-form-group>\r\n                </b-form>\r\n              </b-col>\r\n            </b-row>\r\n            <b-row>\r\n              <b-col cols=\"3\"></b-col>\r\n            </b-row>\r\n          </b-container>\r\n          <hr class=\"my-4\" />\r\n\r\n          <b-button variant=\"primary\" class=\"mr-1\" @click=\"update\"\r\n            >정보수정</b-button\r\n          >\r\n          <b-button variant=\"danger\" href=\"#\" class=\"m-1\" @click=\"secession\"\r\n            >회원탈퇴</b-button\r\n          >\r\n        </b-jumbotron>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nconst memberStore = \"memberStore\";\r\n\r\nexport default {\r\n  name: \"MemberEditPage\",\r\n  data() {\r\n    return {\r\n      user: {\r\n        userid: null,\r\n        username: null,\r\n        userpwd: null,\r\n        email: null,\r\n      },\r\n      emailInfo: {\r\n        emailId: null,\r\n        emailDomain: null,\r\n      },\r\n      emailDomains: [\r\n        { value: null, text: \"선택하세요.\" },\r\n        { value: \"self\", text: \"직접 입력하기\" },\r\n        { value: \"ssafy.com\", text: \"싸피\" },\r\n        { value: \"naver.com\", text: \"네이버\" },\r\n        { value: \"google.com\", text: \"구글\" },\r\n        { value: \"kakao.com\", text: \"카카오\" },\r\n      ],\r\n      writeDomainFlag: false,\r\n      writeDomain: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(memberStore, [\r\n      \"isRegister\",\r\n      \"userInfo\",\r\n      \"isRegisterError\",\r\n      \"isModified\",\r\n      \"isDeleted\",\r\n    ]),\r\n  },\r\n  watch: {\r\n    \"emailInfo.emailDomain\": function () {\r\n      if (this.emailInfo.emailDomain == \"self\") {\r\n        this.writeDomainFlag = true;\r\n      } else {\r\n        this.writeDomainFlag = false;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(memberStore, [\"getUserInfo\", \"userModify\", \"userDelete\"]),\r\n    movePage() {\r\n      this.$router.push({ name: \"Home\" });\r\n    },\r\n    moveToLogin() {\r\n      this.$router.push({ name: \"SignIn\" });\r\n    },\r\n    async update() {\r\n      if (\r\n        this.emailInfo.emailId != null &&\r\n        this.emailInfo.emailDomain != null\r\n      ) {\r\n        this.user.email = \"\".concat(\r\n          this.emailInfo.emailId,\r\n          \"@\",\r\n          this.emailInfo.emailDomain == \"self\"\r\n            ? this.writeDomain\r\n            : this.emailInfo.emailDomain\r\n        );\r\n      }\r\n      this.user.userid = this.userInfo.userid;\r\n      await this.userModify(this.user);\r\n\r\n      if (this.isModified) {\r\n        if (this.user.username != null)\r\n          this.userInfo.username = this.user.username;\r\n        if (this.user.email != null) this.userInfo.email = this.user.email;\r\n        this.$router.push({ name: \"MyPage\" });\r\n      }\r\n    },\r\n    async secession() {\r\n      // console.log(this.userInfo.userid);\r\n      await this.userDelete(this.userInfo.userid);\r\n      if (this.isDeleted) {\r\n        this.SET_IS_LOGIN(false);\r\n        this.SET_LOGOUT(true);\r\n        this.SET_USER_INFO(null);\r\n        sessionStorage.removeItem(\"access-token\");\r\n        if (this.$route.path != \"/\") this.$router.push({ name: \"Home\" });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}